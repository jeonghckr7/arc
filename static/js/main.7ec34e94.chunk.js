(this.webpackJsonparc=this.webpackJsonparc||[]).push([[0],{191:function(e,t,n){e.exports=n(438)},196:function(e,t,n){},241:function(e,t){},255:function(e,t){},257:function(e,t){},438:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(185),c=n.n(l),r=n(9),i=(n(196),n(18)),s=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"\ud648"),o.a.createElement("p",null,"\uc774\uacf3\uc740 \ud648\uc774\uc5d0\uc694. \uac00\uc7a5 \uba3c\uc800 \ubcf4\uc5ec\uc9c0\ub294 \ud398\uc774\uc9c0\uc8e0."))},d=(n(190),n(68)),m={1:{name:"\uae40\ubbfc\uc900",description:"Frontend Engineer @ Laftel Inc. \uc7ac\ubc0c\ub294 \uac83\ub9cc \uace8\ub77c\uc11c \ud558\ub294 \uac1c\ubc1c\uc790"},2:{name:"\ud64d\uae38\ub3d9",description:"\uc804\ub798\ub3d9\ud654\uc758 \uc8fc\uc778\uacf5"}},u=function(e){var t=e.match.params.no,n=m[t];return n?o.a.createElement("div",null,o.a.createElement("h3",null,t,"(",n.name,")"),o.a.createElement("p",null,n.description)):o.a.createElement("div",null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc720\uc800\uc785\ub2c8\ub2e4.")},p=n(186),g=n.n(p),h=(n(197),n(199),n(439),g.a.initializeApp({apiKey:"AIzaSyBLHYeag273-F8L_funDb_8iUZO7BGZZW8",authDomain:"chat-app-55e32.firebaseapp.com",databaseURL:"https://chat-app-55e32.firebaseio.com",projectId:"chat-app-55e32",storageBucket:"chat-app-55e32.appspot.com",messagingSenderId:"485337347226",appId:"1:485337347226:web:04974d75cec0bcef055b23",measurementId:"G-E3QSED8X11"})),f=(h.database(),h.firestore()),E=h.storage(),b=n(66),v=n.n(b),w=n(105),_=n.n(w),y=n(67),x=n.n(y),k=n(187),S=n.n(k),I=n(106);function D(e,t){var n=f.collection("board").doc(e).collection("data");return v.a.get("https://cors-anywhere.herokuapp.com/https://gall.dcinside.com/board/view/?id="+e+"&no="+t+"&exception_mode=recommend").then((function(a){var o=a.data,l=/<div style="overflow[\s\S]*?([^<]+?)\ubcf8\ubb38 \uc6b0\uce21/i.exec(o);l=(l=l[0].replace('<div style="overflow:hidden;">',"")).replace("\ubcf8\ubb38 \uc6b0\uce21","");for(var c,r=/<div style="overflow[\s\S]*?([^<]+?)\ubcf8\ubb38 \uc6b0\uce21 \uad11\uace0/i.exec(o),i=/(<video autoplay loop muted onmousedown="mp4_overlay\(this, 'https:\/\/dcimg(.*?)'|<img src="https:\/\/dcimg(.*?)")/g,s=[];null!==(c=i.exec(r));)console.log("imgrepl"),console.table(c),s.push(c[0]);console.table(s);for(var m,u=/\uc6d0\ubcf8[\s\S]*?([^<]+?)<\/div>/i.exec(o),p=/<li><a href="[^>]*>([^<]*)<\/a>/g,g=[];null!==(m=p.exec(u));){var h=m[1].split(".")[0];g.push(h),console.log("imgorgsor"+h)}var f=_.a.load(o),b=f("meta[property='og:image']").attr("content").split("&");console.log("array "+b[0]);for(var w,y=f("span.title_subject").text(),x=f("span.nickname").eq(0).text(),k=[],S=/<a href="https:\/\/image.dcinside\S+"/g,D=0;null!==(w=S.exec(u));){var j=w[0].split('"'),B=(j=j[1]).split("?"),L=b[0]+"&"+B[1];console.log("opimage_array "+b[0]+"imgsrcsr->"+B[1]),console.log("imgsrcsr "+L),k.push({rep:s[D],imgs:j,imgscr:L,ogsname:g[D]}),D++}console.table(k);var O=k.map((function(t){return function(e,t){return new I.Promise((function(n,a){console.table(e),v.a.get("https://cors-anywhere.herokuapp.com/http://3.208.68.247/flask?url="+encodeURIComponent(e.imgscr),{method:"GET",responseType:"blob",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",headers:{"Access-Control-Allow-Headers":"x-requested-with, x-requested-by","User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.162 Safari/537.36"}}).then((function(a){var o=a.headers["content-disposition"],l=a.headers["content-length"];if(o){var c=o.split(";").filter((function(e){return e.includes("filename")})),r=Object(d.a)(c,1)[0];if(r){var i=r.split("=");i=i[1].split("."),i=e.ogsname+"_"+l+"."+i[1],console.log("contentLength: "+l+" splitfilename: "+i);var s=E.ref(t).child(i);s.getDownloadURL().then((function(t){n({resrep:e.rep,resimgsrcs:e.imgs,getdurl:t})})).catch((function(t){if(console.log(t.code),"storage/object-not-found"===t.code){console.log("\ud30c\uc77c\uc774 \uc5c6\ub124\uc694?"+t.code);var o=s.put(a.data);o.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t+"% done")}),(function(e){console.table(e)}),(function(){o.snapshot.ref.getDownloadURL().then((function(t){console.log("\ud30c\uc77c\uc744 \ub2e4\uc6b4 \ubc1b\uc558\ub124\uc694?"+t),n({resrep:e.rep,resimgsrcs:e.imgs,getdurl:t})}))}))}}))}}}))}))}(t,e)}),{concurrency:3});I.Promise.all(O).then((function(a){a.forEach((function(e){console.table(e),l=(l=l.replace(e.resrep,"<img src="+e.getdurl+">"+e.resrep)).replace(e.resimgsrcs,"")})),n.add({gall_id:e,wr_1:t,wr_2:Date.now(),wr_datetime:Date.now(),wr_subject:y,mb_id:x,wr_content:l}).then((function(e){console.log("snap.data() add id: "+e.id)})).catch((function(e){console.log(e)}))}))})).catch((function(e){e.response&&(console.error("404 \uc5d0\ub7ec\ub0d0? "+e.response.status),e.response)})),o.a.createElement("div",null)}function j(e){var t=e.id;console.log("IdBoard boardid: "+t);var n=f.collection("board").doc(t).collection("data");var l=f.collection("boarddc");l.orderBy("datetime","desc").limit(1).get().then((function(e){e.empty?l.add({gall_id:t,datetime:Date.now()}):e.forEach((function(e){console.log(e.id,"=>",e.data());var a=e.data(),o=x()().diff(a.datetime,"seconds");console.log(o+" \ucd08\uac00 \uc9c0\ub0ac\uc2b5\ub2c8\ub2e4."),o>50&&l.add({gall_id:t,datetime:Date.now()}).then((function(a){console.log("conn newPost id: "+a.id),l.doc(e.id).delete().then((function(){console.log("delete id-> "+e.id),v.a.get("https://cors-anywhere.herokuapp.com/https://gall.dcinside.com/board/lists/?id="+t+"&exception_mode=recommend").then((function(e){console.log("axios");var a=e.data,o=_.a.load(a),l=0;o("table.gall_list").find('tr[data-type="icon_recomimg"]').each((function(e,a){var c=o(a).children("td.gall_num").text().trim();n.where("wr_1","==",c).limit(1).get().then((function(e){if(console.log(t+" "+c),e.empty){if(l>0)return;l++,console.log("conteach: "+l),D(t,c)}else e.forEach((function(e){console.log("\ub611\uac19\uc740\uac8c \uc788\ub124\uc694?"+e.id,"=>",e.data())}))})).catch((function(e){e.response}))}))})).catch((function(e){e.response&&console.log(e.response.status)}))}))})).catch((function(e){console.log(e)}))}))}));var c=Object(a.useState)([]),r=Object(d.a)(c,2),i=r[0];r[1];return o.a.createElement("div",null,o.a.createElement("table",null,o.a.createElement("tbody",null,console.log("ax render"),i.reverse().map((function(e,t){return o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.id),o.a.createElement("td",null,"datetime:",e.wr_2),o.a.createElement("td",null,x()(e.wr_2).format("h:mm:ss")),o.a.createElement("td",null,"wr_1:",e.wr_1))})))))}var B=function(e){var t=e.match,n=(e.history,t.params.id),a=Object(i.f)();return console.log(S.a.parse(a.search)),o.a.createElement("div",null,o.a.createElement("h3",null,n),o.a.createElement(i.a,{path:"".concat(t.path,"/:no"),component:u}),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(r.c,{to:"".concat(t.url,"/1")},"velopert")),o.a.createElement("li",null,o.a.createElement(r.c,{to:"".concat(t.url,"/2")},"gildong"),"link state\ub85c \ub118\uaca8\uc900 id \uac12\uc740 ",n)),o.a.createElement(i.a,{path:"/ib_new1",exact:!0,render:function(){return o.a.createElement("div",null,"\uc720\uc800\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")}}),o.a.createElement(j,{id:n}),window.location.search.substring(1))},L=function(){return o.a.createElement(r.b,null,o.a.createElement("div",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(r.c,{to:"/"},"\ud648")," "),o.a.createElement("li",null,o.a.createElement(r.c,{to:{pathname:"/board/ib_new1",id:"ib_new1"}},"\uc778\ud130\ub137\ubc29\uc1a1")),o.a.createElement("li",null,o.a.createElement(r.c,{to:{pathname:"/board/baseball_new8",id:"baseball_new8"}},"\uad6d\ub0b4\uc57c\uad6c")),o.a.createElement("li",null,o.a.createElement(r.c,{to:{pathname:"/board/leagueoflegends3",id:"leagueoflegends3"}},"\ub9ac\uadf8 \uc624\ube0c \ub808\uc804\ub4dc"))),o.a.createElement("hr",null),o.a.createElement(i.c,null,o.a.createElement(i.a,{path:"/",exact:!0,component:s})," ",o.a.createElement(i.a,{path:"/board/:id",component:B}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(r.a,null,o.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[191,1,2]]]);
//# sourceMappingURL=main.7ec34e94.chunk.js.map